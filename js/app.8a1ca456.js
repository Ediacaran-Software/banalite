(function(e){function t(t){for(var o,c,l=t[0],s=t[1],i=t[2],m=0,d=[];m<l.length;m++)c=l[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,l=1;l<n.length;l++){var s=n[l];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0d7a":function(e,t,n){"use strict";n("2a91")},"2a91":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("7a23"),a=(n("fb6a"),{class:"form-inner"}),r=Object(o["f"])("h1",null,"Login to Bavard",-1),c=Object(o["f"])("label",{for:"username"},"Username",-1),l=Object(o["f"])("label",{for:"chatroomCode"},"Chat room code",-1),s={class:"room-code"},i=Object(o["f"])("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"white"},[Object(o["f"])("path",{d:"M465.499307 1021.354667c-21.504 0-44.117333-2.048-68.693334-5.12l-6.144-1.024c-174.336-26.624-293.290667-195.925333-298.410666-203.093334C-76.026027 555.776 8.11264 296.277333 167.08864 152.661333 325.04064 9.045333 588.635307-52.48 819.37664 133.205333c148.736 119.978667 193.877333 286.122667 195.925333 293.290667v2.048c21.504 116.906667 4.096 203.093333-52.309333 258.474667-86.186667 83.114667-228.693333 56.405333-248.234667 52.309333-26.709333-3.072-46.165333 5.12-60.501333 22.528-15.36 19.456-18.432 45.141333-13.312 60.501333 14.336 43.093333 16.384 75.861333 6.144 100.522667-29.781333 64.682667-90.282667 98.474667-181.589333 98.474667z m-65.621334-67.669334l6.144 1.024c99.498667 15.36 160-4.096 184.576-59.477333 0-1.024 5.12-14.336-8.192-55.381333-13.312-36.949333-3.072-85.162667 23.552-117.930667 27.733333-34.901333 68.693333-50.261333 116.906667-45.141333l3.072 1.024c1.024 0 128.170667 27.648 193.877333-35.925334 40.021333-38.997333 52.309333-106.666667 34.901334-201.045333-4.096-13.312-48.213333-157.952-175.36-259.498667C578.309973 17.322667 347.56864 71.68 208.04864 197.802667 79.877973 314.709333-14.500693 537.258667 143.451307 778.325333c1.024 0 108.714667 153.856 256.426666 175.36z m0 0","p-id":"4972"}),Object(o["f"])("path",{d:"M158.89664 538.282667c0 33.962667 27.562667 61.525333 61.525333 61.525333s61.525333-27.562667 61.525334-61.525333-27.562667-61.525333-61.525334-61.525334c-34.048 0-61.525333 27.562667-61.525333 61.525334z m71.765333-184.576c0 33.962667 27.562667 61.525333 61.525334 61.525333s61.525333-27.562667 61.525333-61.525333-27.562667-61.525333-61.525333-61.525334-61.525333 27.562667-61.525334 61.525334z m184.576-102.570667c0 33.962667 27.562667 61.525333 61.525334 61.525333s61.525333-27.562667 61.525333-61.525333-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525334 61.525333z m205.141334 51.285333c0 33.962667 27.562667 61.525333 61.525333 61.525334s61.525333-27.562667 61.525333-61.525334-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525333 61.525333z m102.570666 164.096c0 33.962667 27.562667 61.525333 61.525334 61.525334s61.525333-27.562667 61.525333-61.525334-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525334 61.525333z m0 0","p-id":"4973"})],-1),u={class:"chat-box",id:"chat-box"},m={key:0},d={class:"message"},f={class:"message-inner"},b={class:"content"},p=Object(o["e"])(" Welcome to BAVARD! 😺 Start your chat with your friends by sharing the 4-digits room code to them! "),h=Object(o["f"])("br",null,null,-1),g={key:0,class:"time"},j={class:"message-inner"},v={key:0,class:"avatar",style:{backgroundColor:"#888"}},O={class:"username"},y={class:"quick-scroll"},w=Object(o["f"])("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1746",width:"30",height:"30"},[Object(o["f"])("path",{d:"M1021.28261 737.254254 512.697383 228.665956 4.114203 737.254254 65.145208 798.285259 512.697383 350.727966 960.251605 798.280142Z","p-id":"1747",fill:"rgba(255, 255, 255, 0.8)"})],-1),C=Object(o["f"])("svg",{viewBox:"0 0 1025 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1891",width:"30",height:"30"},[Object(o["f"])("path",{d:"M1.023306 298.788014 512.531096 810.298873 1024.036839 298.79006 962.65484 237.408061 512.531096 687.535899 62.405305 237.410108Z","p-id":"1892",fill:"rgba(255, 255, 255, 0.8)"})],-1),M={key:0,class:"emoji-list"},D={style:{display:"flex"}},k=Object(o["f"])("svg",{t:"1609384005914",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1363",width:"30",height:"30",fill:"#fafafa"},[Object(o["f"])("path",{d:"M568 250.667c30.928 0 56 25.072 56 56s-25.072 56-56 56-56-25.072-56-56 25.072-56 56-56zM344 400c30.928 0 56 25.072 56 56s-25.072 56-56 56-56-25.072-56-56 25.072-56 56-56z m354.593 164.347l-8.166 10.114a259.07 259.07 0 0 1-58.461 50.895l30.787 32.788c23.19 24.697 62.011 25.919 85.895 3.524l3.557-3.491 3.936-4.684c16.551-21.574 12.48-52.481-9.094-69.033a49.253 49.253 0 0 0-13.067-7.18l-35.387-12.933z m-38.14-97.386c4.256-14.867 19.757-23.469 34.624-19.214 14.867 4.255 23.469 19.757 19.214 34.624a250.717 250.717 0 0 1-8.586 24.958l47.499 17.354a105.227 105.227 0 0 1 27.93 15.346c46.113 35.377 54.816 101.438 18.728 148.438l-6.172 7.258-5.896 5.972c-47.244 44.361-121.504 42.024-165.865-5.22l-50.315-53.568c-46.587 19.532-99.491 25.034-152.23 12.698l-25.761-6.026c-15.058-3.522-24.409-18.584-20.887-33.641 3.522-15.058 18.584-24.409 33.641-20.887l25.761 6.026c99.69 23.317 200.141-35.689 228.315-134.118zM512.326 120l-10.315 0.124c-212.242 5.295-382.015 179.097-382.015 391.178l0.129 10.687c5.294 212.242 179.096 382.015 391.178 382.015l10.687-0.129c212.242-5.294 382.015-179.096 382.015-391.178l-0.129-10.687c-5.203-208.598-173.178-376.169-380.951-381.861L512.326 120zM512 64c243.617 0 441.817 194.452 447.858 436.614L960 512c0 243.617-194.452 441.817-436.614 447.858L512 960C268.383 960 70.183 765.548 64.142 523.386L64 512C64 268.383 258.452 70.183 500.614 64.142L512 64z","p-id":"1364"})],-1);function S(e,t,n,S,T,x){return""===S.state.username||null===S.state.username?(Object(o["g"])(),Object(o["c"])("div",{key:0,class:"view login",style:{backgroundColor:S.state.themeColor}},[Object(o["f"])("form",{action:"",class:"login-form",onSubmit:t[3]||(t[3]=Object(o["n"])((function(){return S.Login&&S.Login.apply(S,arguments)}),["prevent"]))},[Object(o["f"])("div",a,[r,c,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return S.inputUsername=e}),placeholder:"Please enter your username"},null,512),[[o["l"],S.inputUsername]]),l,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return S.inputChatroomCode=e}),placeholder:"Please enter 4-digit chat room code"},null,512),[[o["l"],S.inputChatroomCode]]),Object(o["f"])("input",{type:"submit",value:"Login",style:{backgroundColor:S.state.themeColor}},null,4)])],32)],4)):(Object(o["g"])(),Object(o["c"])("div",{key:1,class:"view chat",style:{backgroundColor:S.state.themeColor}},[Object(o["f"])("header",null,[Object(o["f"])("button",{class:"logout",onClick:t[4]||(t[4]=function(){return S.Logout&&S.Logout.apply(S,arguments)})},"Logout"),Object(o["f"])("h3",s,"Room"+Object(o["k"])(S.state.chatroomCode),1),Object(o["f"])("button",{class:"change-color",onClick:t[5]||(t[5]=function(){return S.ChangeThemeColor&&S.ChangeThemeColor.apply(S,arguments)})},[i]),Object(o["f"])("h1",null,"Welcome, "+Object(o["k"])(S.state.username),1)]),Object(o["f"])("section",u,[0===S.state.messages.length?(Object(o["g"])(),Object(o["c"])("div",m,[Object(o["f"])("div",d,[Object(o["f"])("div",f,[Object(o["f"])("div",b,[p,h,Object(o["e"])(" Room code: "+Object(o["k"])(S.state.chatroomCode),1)])])])])):Object(o["d"])("",!0),(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["j"])(S.state.messages,(function(e,t){return Object(o["g"])(),Object(o["c"])("div",{key:"key"+e.id,id:"id"+e.id,style:{marginTop:e.displayTime?"30px":"15px"}},[e.displayTime?(Object(o["g"])(),Object(o["c"])("span",g,Object(o["k"])(e.time),1)):Object(o["d"])("",!0),Object(o["f"])("div",{class:e.username===S.state.username?"message current-user":"message",style:{paddingTop:e.displayTime?"10px":"0px"}},[Object(o["f"])("div",j,[0===t||S.state.messages[t-1].username!==e.username?(Object(o["g"])(),Object(o["c"])("div",{key:0,class:"user-info",style:{justifyContent:e.username!==S.state.username?"flex-start":"flex-end"}},[e.username!==S.state.username?(Object(o["g"])(),Object(o["c"])("div",v,[Object(o["f"])("span",null,Object(o["k"])(e.username.slice(0,1)),1)])):Object(o["d"])("",!0),Object(o["f"])("div",O,Object(o["k"])(e.username),1)],4)):Object(o["d"])("",!0),Object(o["f"])("div",{class:"content",style:{backgroundColor:e.username==S.state.username?S.state.themeColor:"#f3f3f3"}},Object(o["k"])(e.content),5)])],6)],12,["id"])})),128))]),Object(o["f"])("div",y,[Object(o["f"])("div",{class:"btn",onClick:t[6]||(t[6]=function(e){return S.ScrollTo("top")})},[w]),Object(o["f"])("div",{class:"btn",onClick:t[7]||(t[7]=function(e){return S.ScrollTo("bottom")})},[C])]),S.showEmojiPicker?(Object(o["g"])(),Object(o["c"])("div",M,[(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["j"])(S.emojiList,(function(e){return Object(o["g"])(),Object(o["c"])("div",{key:e.id,class:"emoji",onClick:function(){return S.onSelectEmoji(e)},draggable:"false"},Object(o["k"])(e.data),9,["onClick"])})),128))])):Object(o["d"])("",!0),Object(o["f"])("footer",null,[Object(o["f"])("div",D,[Object(o["f"])("button",{onClick:t[8]||(t[8]=Object(o["n"])((function(){return S.toogleDialogEmoji&&S.toogleDialogEmoji.apply(S,arguments)}),["prevent"])),class:"emoji-btn",style:{backgroundColor:S.state.themeColor}},[k],4),Object(o["f"])("form",{action:"",onSubmit:t[10]||(t[10]=Object(o["n"])((function(){return S.SendMessage&&S.SendMessage.apply(S,arguments)}),["prevent"]))},[Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[9]||(t[9]=function(e){return S.inputMessage=e}),placeholder:"Write a message...",style:{caretColor:S.state.themeColor}},null,4),[[o["l"],S.inputMessage]]),Object(o["f"])("input",{type:"submit",value:"Send",style:{backgroundColor:S.state.themeColor}},null,4)],32)])])],4))}n("99af"),n("4160"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("4d90"),n("5319"),n("159b");var T=n("260b"),x=(n("66ce"),{apiKey:"AIzaSyBsl7xp7oD7KOK0O0kZpQuqSfH9Uy3WEC4",authDomain:"banalite.firebaseapp.com",projectId:"banalite",storageBucket:"banalite.appspot.com",messagingSenderId:"785951693710",appId:"1:785951693710:web:ff3e1f73d59bd73dace2df"}),L=T["a"].initializeApp(x),Y=L,z=n("1157"),E=n.n(z),F=["😍","😀","😃","😄","😁","😆","😅","🤣","😂","🙂","🙃","😉","😊","😇","🥰","😍","🤩","😘","😗","😚","😙","😋","😛","😜","🤪","😝","🤑","🤗","🤭","🤫","🤔","🤐","🤨","😐","😑","😶","😏","😒","🙄","😬","🤥","😌","😔","😪","🤤","😴","😷","🤒","🤕","🤢","🤮","🤧","🥵","🥶","🥴","😵","🤯","🤠","🥳","😎","🤓","🧐","😕","😟","🙁","😮","😯","😲","😳","🥺","😦","😧","😨","😰","😥","😢","😭","😱","😖","😣","😞","😓","😩","😫","🥱","😤","😡","😠","🤬","😈","👿","💀","💩","🤡","👹","👺","👻","👽","👾","🤖","😺","😸","😹","😻","😼","😽","🙀","😿","😾","🙈","🙉","🙊","💋","💌","💘","💝","💖","💗","💓","💞","💕","💟","💔","🧡","💛","💚","💙","💜","🤎","🖤","🤍","💯","💢","💥","💫","💦","💨","🕳","🕳","💣","💬","👁","🗨","👁","🗨","👁","🗨","👁","🗨","🗨","🗨","🗯","🗯","💭","💤"],P=F,I={setup:function(){var e=Object(o["i"])(""),t=Object(o["i"])(""),n=Object(o["i"])(""),a=Object(o["i"])(!1),r="rgb(182, 166, 242)";"undefined"!==typeof Storage&&(r=void 0===localStorage.getItem("bavard-themeColor")?r:localStorage.getItem("bavard-themeColor"));var c=Object(o["h"])({username:"",chatroomCode:"",messages:[],themeColor:r}),l=[];(function(){P.forEach((function(e,t){l.push({id:t+1,data:e})}))})();var s=function(){""!==e.value&&null!==e.value&&""!==t.value&&null!==t.value&&i(t.value)&&(c.username=e.value,c.chatroomCode=t.value,e.value="",t.value=""),d()},i=function(e){return/\d{4}$/.test(e)},u=function(){c.username=""},m=function(){var e=Y.database().ref("messages-".concat(c.chatroomCode));if(""!==n.value&&null!==n.value){var t={username:c.username,content:n.value,time:Date.now()};e.push(t),n.value="",a.value=!1}},d=function(){c.messages=[];var e=Y.database().ref("messages-".concat(c.chatroomCode));e.on("value",(function(e){var t=e.val();if(null!=t&&void 0!=t){for(var n=[],o=Object.keys(e.val()),a=0;a<o.length;a++){var r=o[a],l=0===a||t[o[a]].time-t[o[a-1]].time>3e5;n.push({id:r,username:t[r].username,content:t[r].content,time:f(t[r].time),displayTime:l})}c.messages=n,p()}}))},f=function(e){var t="",n=Date.now();return t=b.inMinutes(new Date(e),new Date(n))<5?"just now":b.inMinutes(new Date(e),new Date(n))<60?b.inMinutes(new Date(e),new Date(n))+" mins ago":b.inHours(new Date(e),new Date(n))<24?new Date(e).customFormat("#hhh#:#mm#"):b.inDays(new Date(e),new Date(n))<7?new Date(e).customFormat("#DDD# #hhh#:#mm#"):b.inYears(new Date(e),new Date(n))>0?new Date(e).customFormat("#YYYY# #MMM# #DD# #hhh#:#mm#"):new Date(e).customFormat("#MMM# #DD# #hhh#:#mm#"),t},b={inMinutes:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/6e4)},inHours:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/36e5)},inDays:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/864e5)},inWeeks:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/6048e5)},inMonths:function(e,t){var n=e.getFullYear(),o=t.getFullYear(),a=e.getMonth(),r=t.getMonth();return r+12*o-(a+12*n)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()}};Date.prototype.customFormat=function(e){var t,n,o,a,r,c,l,s,i,u,m,d,f,b,p,h,g,j,v,O,y,w;return n=((t=this.getFullYear())+"").slice(-2),r=(c=this.getMonth()+1)<10?"0"+c:c,a=(o=["January","February","March","April","May","June","July","August","September","October","November","December"][c-1]).substring(0,3),i=(u=this.getDate())<10?"0"+u:u,s=(l=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.getDay()]).substring(0,3),w=u>=10&&u<=20?"th":1==(y=u%10)?"st":2==y?"nd":3==y?"rd":"th",e=e.replace("#YYYY#",t).replace("#YY#",n).replace("#MMMM#",o).replace("#MMM#",a).replace("#MM#",r).replace("#M#",c).replace("#DDDD#",l).replace("#DDD#",s).replace("#DD#",i).replace("#D#",u).replace("#th#",w),b=d=this.getHours(),0==b&&(b=24),b>12&&(b-=12),f=b<10?"0"+b:b,m=d<10?"0"+d:d,O=(v=d<12?"am":"pm").toUpperCase(),p=(h=this.getMinutes())<10?"0"+h:h,g=(j=this.getSeconds())<10?"0"+j:j,e.replace("#hhhh#",m).replace("#hhh#",d).replace("#hh#",f).replace("#h#",b).replace("#mm#",p).replace("#m#",h).replace("#ss#",g).replace("#s#",j).replace("#ampm#",v).replace("#AMPM#",O)};var p=function(){setTimeout((function(){window.scrollTo({left:0,top:document.body.scrollHeight||document.documentElement.scrollHeight,behavior:"smooth"})}),50)},h=function(){c.themeColor=g(Math.floor(360*Math.random()),75,80),"undefined"!==typeof Storage&&localStorage.setItem("bavard-themeColor",c.themeColor)},g=function(e,t,n){n/=100;var o=t*Math.min(n,1-n)/100,a=function(t){var a=(t+e/30)%12,r=n-o*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*r).toString(16).padStart(2,"0")};return"#".concat(a(0)).concat(a(8)).concat(a(4))},j=function(e){"top"===e?setTimeout((function(){window.scrollTo({left:0,top:0,behavior:"smooth"})}),50):"bottom"===e&&setTimeout((function(){window.scrollTo({left:0,top:document.body.scrollHeight||document.documentElement.scrollHeight,behavior:"smooth"})}),50)};window.addEventListener("scroll",(function(){return v()}));var v=function(){E()(".message").each((function(){var e=E()(window).scrollTop(),t=E()(this).offset().top,n=t-e;E()(this).css("opacity",n/300+.2)}))},O=function(){a.value=!a.value},y=function(e){n.value+=e.data};return{inputUsername:e,inputChatroomCode:t,state:c,Login:s,inputMessage:n,SendMessage:m,Logout:u,ChangeThemeColor:h,ScrollTo:j,showEmojiPicker:a,toogleDialogEmoji:O,onSelectEmoji:y,emojiList:l}}};n("0d7a");I.render=S;var U=I;Object(o["b"])(U).mount("#app")}});
//# sourceMappingURL=app.8a1ca456.js.map