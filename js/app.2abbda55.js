(function(e){function t(t){for(var o,c,s=t[0],l=t[1],i=t[2],m=0,d=[];m<s.length;m++)c=s[m],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&d.push(a[c][0]),a[c]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,i||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},a={app:0},r=[];function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/banalite/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var u=l;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("f2bf"),a=(n("fb6a"),{class:"form-inner"}),r=Object(o["f"])("h1",null,"Login to Bavard",-1),c=Object(o["f"])("label",{for:"username"},"Username",-1),s=Object(o["f"])("label",{for:"chatroomCode"},"Chat room code",-1),l={class:"room-code"},i=Object(o["f"])("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"white"},[Object(o["f"])("path",{d:"M465.499307 1021.354667c-21.504 0-44.117333-2.048-68.693334-5.12l-6.144-1.024c-174.336-26.624-293.290667-195.925333-298.410666-203.093334C-76.026027 555.776 8.11264 296.277333 167.08864 152.661333 325.04064 9.045333 588.635307-52.48 819.37664 133.205333c148.736 119.978667 193.877333 286.122667 195.925333 293.290667v2.048c21.504 116.906667 4.096 203.093333-52.309333 258.474667-86.186667 83.114667-228.693333 56.405333-248.234667 52.309333-26.709333-3.072-46.165333 5.12-60.501333 22.528-15.36 19.456-18.432 45.141333-13.312 60.501333 14.336 43.093333 16.384 75.861333 6.144 100.522667-29.781333 64.682667-90.282667 98.474667-181.589333 98.474667z m-65.621334-67.669334l6.144 1.024c99.498667 15.36 160-4.096 184.576-59.477333 0-1.024 5.12-14.336-8.192-55.381333-13.312-36.949333-3.072-85.162667 23.552-117.930667 27.733333-34.901333 68.693333-50.261333 116.906667-45.141333l3.072 1.024c1.024 0 128.170667 27.648 193.877333-35.925334 40.021333-38.997333 52.309333-106.666667 34.901334-201.045333-4.096-13.312-48.213333-157.952-175.36-259.498667C578.309973 17.322667 347.56864 71.68 208.04864 197.802667 79.877973 314.709333-14.500693 537.258667 143.451307 778.325333c1.024 0 108.714667 153.856 256.426666 175.36z m0 0","p-id":"4972"}),Object(o["f"])("path",{d:"M158.89664 538.282667c0 33.962667 27.562667 61.525333 61.525333 61.525333s61.525333-27.562667 61.525334-61.525333-27.562667-61.525333-61.525334-61.525334c-34.048 0-61.525333 27.562667-61.525333 61.525334z m71.765333-184.576c0 33.962667 27.562667 61.525333 61.525334 61.525333s61.525333-27.562667 61.525333-61.525333-27.562667-61.525333-61.525333-61.525334-61.525333 27.562667-61.525334 61.525334z m184.576-102.570667c0 33.962667 27.562667 61.525333 61.525334 61.525333s61.525333-27.562667 61.525333-61.525333-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525334 61.525333z m205.141334 51.285333c0 33.962667 27.562667 61.525333 61.525333 61.525334s61.525333-27.562667 61.525333-61.525334-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525333 61.525333z m102.570666 164.096c0 33.962667 27.562667 61.525333 61.525334 61.525334s61.525333-27.562667 61.525333-61.525334-27.562667-61.525333-61.525333-61.525333-61.525333 27.562667-61.525334 61.525333z m0 0","p-id":"4973"})],-1),u={class:"chat-box",id:"chat-box"},m={key:0},d={class:"message"},f={class:"message-inner"},p={class:"content"},b=Object(o["e"])(" Welcome to BAVARD! ðŸ˜º Start your chat with your friends by sharing the 4-digits room code to them! "),h=Object(o["f"])("br",null,null,-1),g={key:0,class:"time"},v={class:"message-inner"},O={key:0,class:"avatar",style:{backgroundColor:"#888"}},j={class:"username"},y={class:"quick-scroll"},w=Object(o["f"])("svg",{viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1746",width:"30",height:"30"},[Object(o["f"])("path",{d:"M1021.28261 737.254254 512.697383 228.665956 4.114203 737.254254 65.145208 798.285259 512.697383 350.727966 960.251605 798.280142Z","p-id":"1747",fill:"rgba(255, 255, 255, 0.8)"})],-1),M=Object(o["f"])("svg",{viewBox:"0 0 1025 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1891",width:"30",height:"30"},[Object(o["f"])("path",{d:"M1.023306 298.788014 512.531096 810.298873 1024.036839 298.79006 962.65484 237.408061 512.531096 687.535899 62.405305 237.410108Z","p-id":"1892",fill:"rgba(255, 255, 255, 0.8)"})],-1);function C(e,t,n,C,D,k){return""===C.state.username||null===C.state.username?(Object(o["g"])(),Object(o["c"])("div",{key:0,class:"view login",style:{backgroundColor:C.state.themeColor}},[Object(o["f"])("form",{action:"",class:"login-form",onSubmit:t[3]||(t[3]=Object(o["n"])((function(){return C.Login&&C.Login.apply(C,arguments)}),["prevent"]))},[Object(o["f"])("div",a,[r,c,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return C.inputUsername=e}),placeholder:"Please enter your username"},null,512),[[o["l"],C.inputUsername]]),s,Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return C.inputChatroomCode=e}),placeholder:"Please enter 4-digit chat room code"},null,512),[[o["l"],C.inputChatroomCode]]),Object(o["f"])("input",{type:"submit",value:"Login",style:{backgroundColor:C.state.themeColor}},null,4)])],32)],4)):(Object(o["g"])(),Object(o["c"])("div",{key:1,class:"view chat",style:{backgroundColor:C.state.themeColor}},[Object(o["f"])("header",null,[Object(o["f"])("button",{class:"logout",onClick:t[4]||(t[4]=function(){return C.Logout&&C.Logout.apply(C,arguments)})},"Logout"),Object(o["f"])("h3",l,"Room"+Object(o["k"])(C.state.chatroomCode),1),Object(o["f"])("button",{class:"change-color",onClick:t[5]||(t[5]=function(){return C.ChangeThemeColor&&C.ChangeThemeColor.apply(C,arguments)})},[i]),Object(o["f"])("h1",null,"Welcome, "+Object(o["k"])(C.state.username),1)]),Object(o["f"])("section",u,[0===C.state.messages.length?(Object(o["g"])(),Object(o["c"])("div",m,[Object(o["f"])("div",d,[Object(o["f"])("div",f,[Object(o["f"])("div",p,[b,h,Object(o["e"])(" Room code: "+Object(o["k"])(C.state.chatroomCode),1)])])])])):Object(o["d"])("",!0),(Object(o["g"])(!0),Object(o["c"])(o["a"],null,Object(o["j"])(C.state.messages,(function(e,t){return Object(o["g"])(),Object(o["c"])("div",{key:"key"+e.id,id:"id"+e.id,style:{marginTop:e.displayTime?"30px":"15px"}},[e.displayTime?(Object(o["g"])(),Object(o["c"])("span",g,Object(o["k"])(e.time),1)):Object(o["d"])("",!0),Object(o["f"])("div",{class:e.username===C.state.username?"message current-user":"message"},[Object(o["f"])("div",v,[0===t||C.state.messages[t-1].username!==e.username?(Object(o["g"])(),Object(o["c"])("div",{key:0,class:"user-info",style:{justifyContent:e.username!==C.state.username?"flex-start":"flex-end"}},[e.username!==C.state.username?(Object(o["g"])(),Object(o["c"])("div",O,[Object(o["f"])("span",null,Object(o["k"])(e.username.slice(0,1)),1)])):Object(o["d"])("",!0),Object(o["f"])("div",j,Object(o["k"])(e.username),1)],4)):Object(o["d"])("",!0),Object(o["f"])("div",{class:"content",style:{backgroundColor:e.username==C.state.username?C.state.themeColor:"#f3f3f3"}},Object(o["k"])(e.content),5)])],2)],12,["id"])})),128))]),Object(o["f"])("div",y,[Object(o["f"])("div",{class:"btn",onClick:t[6]||(t[6]=function(e){return C.ScrollTo("top")})},[w]),Object(o["f"])("div",{class:"btn",onClick:t[7]||(t[7]=function(e){return C.ScrollTo("bottom")})},[M])]),Object(o["f"])("footer",null,[Object(o["f"])("form",{action:"",onSubmit:t[9]||(t[9]=Object(o["n"])((function(){return C.SendMessage&&C.SendMessage.apply(C,arguments)}),["prevent"]))},[Object(o["m"])(Object(o["f"])("input",{type:"text","onUpdate:modelValue":t[8]||(t[8]=function(e){return C.inputMessage=e}),placeholder:"Write a message..."},null,512),[[o["l"],C.inputMessage]]),Object(o["f"])("input",{type:"submit",value:"Send",style:{backgroundColor:C.state.themeColor}},null,4)],32)])],4))}n("99af"),n("b64b"),n("d3b7"),n("ac1f"),n("25f0"),n("4d90"),n("5319");var D=n("260b"),k=(n("66ce"),{apiKey:"AIzaSyBsl7xp7oD7KOK0O0kZpQuqSfH9Uy3WEC4",authDomain:"banalite.firebaseapp.com",projectId:"banalite",storageBucket:"banalite.appspot.com",messagingSenderId:"785951693710",appId:"1:785951693710:web:ff3e1f73d59bd73dace2df"}),S=D["a"].initializeApp(k),T=S,x=n("1157"),Y=n.n(x),F={setup:function(){var e=Object(o["i"])(""),t=Object(o["i"])(""),n=Object(o["i"])(""),a="rgb(182, 166, 242)";"undefined"!==typeof Storage&&(a=void 0===localStorage.getItem("bavard-themeColor")?a:localStorage.getItem("bavard-themeColor"));var r=Object(o["h"])({username:"",chatroomCode:"",messages:[],themeColor:a}),c=function(){console.log('"',e.value,'"',t.value),""!==e.value&&null!==e.value&&""!==t.value&&null!==t.value&&s(t.value)&&(r.username=e.value,r.chatroomCode=t.value,e.value="",t.value=""),u()},s=function(e){return/\d{4}$/.test(e)},l=function(){r.username=""},i=function(){var e=T.database().ref("messages-".concat(r.chatroomCode));if(console.log(r.chatroomCode),""!==n.value&&null!==n.value){var t={username:r.username,content:n.value,time:Date.now()};e.push(t),n.value=""}},u=function(){r.messages=[];var e=T.database().ref("messages-".concat(r.chatroomCode));console.log(r.chatroomCode),e.on("value",(function(e){var t=e.val();if(null!=t&&void 0!=t){for(var n=[],o=Object.keys(e.val()),a=0;a<o.length;a++){var c=o[a],s=0===a||t[o[a]].time-t[o[a-1]].time>3e5;n.push({id:c,username:t[c].username,content:t[c].content,time:m(t[c].time),displayTime:s})}r.messages=n,f()}}))},m=function(e){var t="",n=Date.now();return t=d.inMinutes(new Date(e),new Date(n))<5?"just now":d.inMinutes(new Date(e),new Date(n))<60?d.inMinutes(new Date(e),new Date(n))+" mins ago":d.inHours(new Date(e),new Date(n))<24?new Date(e).customFormat("#hhh#:#mm#"):d.inDays(new Date(e),new Date(n))<7?new Date(e).customFormat("#DDD# #hhh#:#mm#"):d.inYears(new Date(e),new Date(n))>0?new Date(e).customFormat("#YYYY# #MMM# #DD# #hhh#:#mm#"):new Date(e).customFormat("#MMM# #DD# #hhh#:#mm#"),t},d={inMinutes:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/6e4)},inHours:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/36e5)},inDays:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/864e5)},inWeeks:function(e,t){var n=t.getTime(),o=e.getTime();return parseInt((n-o)/6048e5)},inMonths:function(e,t){var n=e.getFullYear(),o=t.getFullYear(),a=e.getMonth(),r=t.getMonth();return r+12*o-(a+12*n)},inYears:function(e,t){return t.getFullYear()-e.getFullYear()}};Date.prototype.customFormat=function(e){var t,n,o,a,r,c,s,l,i,u,m,d,f,p,b,h,g,v,O,j,y,w;return n=((t=this.getFullYear())+"").slice(-2),r=(c=this.getMonth()+1)<10?"0"+c:c,a=(o=["January","February","March","April","May","June","July","August","September","October","November","December"][c-1]).substring(0,3),i=(u=this.getDate())<10?"0"+u:u,l=(s=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][this.getDay()]).substring(0,3),w=u>=10&&u<=20?"th":1==(y=u%10)?"st":2==y?"nd":3==y?"rd":"th",e=e.replace("#YYYY#",t).replace("#YY#",n).replace("#MMMM#",o).replace("#MMM#",a).replace("#MM#",r).replace("#M#",c).replace("#DDDD#",s).replace("#DDD#",l).replace("#DD#",i).replace("#D#",u).replace("#th#",w),p=d=this.getHours(),0==p&&(p=24),p>12&&(p-=12),f=p<10?"0"+p:p,m=d<10?"0"+d:d,j=(O=d<12?"am":"pm").toUpperCase(),b=(h=this.getMinutes())<10?"0"+h:h,g=(v=this.getSeconds())<10?"0"+v:v,e.replace("#hhhh#",m).replace("#hhh#",d).replace("#hh#",f).replace("#h#",p).replace("#mm#",b).replace("#m#",h).replace("#ss#",g).replace("#s#",v).replace("#ampm#",O).replace("#AMPM#",j)};var f=function(){setTimeout((function(){window.scrollTo({left:0,top:document.body.scrollHeight||document.documentElement.scrollHeight,behavior:"smooth"})}),50)},p=function(){r.themeColor=b(Math.floor(360*Math.random()),75,80),"undefined"!==typeof Storage&&localStorage.setItem("bavard-themeColor",r.themeColor)},b=function(e,t,n){n/=100;var o=t*Math.min(n,1-n)/100,a=function(t){var a=(t+e/30)%12,r=n-o*Math.max(Math.min(a-3,9-a,1),-1);return Math.round(255*r).toString(16).padStart(2,"0")};return"#".concat(a(0)).concat(a(8)).concat(a(4))},h=function(e){"top"===e?setTimeout((function(){window.scrollTo({left:0,top:0,behavior:"smooth"})}),50):"bottom"===e&&setTimeout((function(){window.scrollTo({left:0,top:document.body.scrollHeight||document.documentElement.scrollHeight,behavior:"smooth"})}),50)};window.addEventListener("scroll",(function(){return g()}));var g=function(){Y()(".message").each((function(){var e=Y()(window).scrollTop(),t=Y()(this).offset().top,n=t-e;Y()(this).css("opacity",n/300+.2)}))};return{inputUsername:e,inputChatroomCode:t,state:r,Login:c,inputMessage:n,SendMessage:i,Logout:l,ChangeThemeColor:p,ScrollTo:h}}};n("df8a");F.render=C;var I=F;Object(o["b"])(I).mount("#app")},b176:function(e,t,n){},df8a:function(e,t,n){"use strict";n("b176")}});
//# sourceMappingURL=app.2abbda55.js.map